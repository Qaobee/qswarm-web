<!-- Bannière Download appli mobile -->
<div class="banner-container" ng-if="showBanner">
    <div class="row valign-wrapper">
        <div class="col s1" ng-click="closeBanner()"><span class="banner-close"> <i
                class="material-icons prefix">close</i></span></div>
        <div class="col s3" ng-click="openDownload()"><a class="banner-img-dl"><img
                src="assets/images/logo-download.png"/></a></div>
        <div class="col s4">
            <p class="banner-appl">
                <span class="banner-appl-title">QSwarm Hand</span><br>
                <span class="banner-appl-author">Qaobee</span>
            </p>
        </div>
        <div class="col s4"><a ng-click="openDownload()" class="banner-btn-dl">Télécharger</a>
        </div>
    </div>
</div>

<!-- Menu Not connected -->
<nav class="top-nav top-nav-trans" role="navigation" ng-hide="user">
    <div class="container">
        <div class="nav-wrapper">
            <a href="/#/" class="brand-logo"><img src="assets/images/logo-mini.png" height="30px"/></a>

            <ul class="right hide-on-med-and-down">
                <li ng-class="{'active' : menuItem === 'pricing'}" ng-if="!isProd">
                    <a class="white-text" href="#/pricing" translate="navbar.pricing"></a>
                </li>
               
                <li>
                    <a class="white-text" ng-click="openLogin()">
                        <i class="fa fa-sign-in right"></i>{{'navbar.connect' | translate}}
                    </a>
                </li>

            </ul>

            <!-- menu mobile start -->
            <a href="#" data-activates="nav-mobileHC" class="button-collapse white-text">
                <i class="material-icons">menu</i></a>

            <ul id="nav-mobileHC" class="side-nav">
                <li ng-class="{'active' : menuItem === 'pricing'}" ng-if="!isProd">
                    <a class="blue-grey-text text-darken-2" href="#/pricing" translate="navbar.pricing"></a>
                </li>
                
                <li>
                    <a class="blue-grey-text text-darken-2" ng-click="openLogin()" translate="navbar.connect"></a>
                </li>
            </ul>
            <!-- menu mobile end -->
        </div>
    </div>
</nav>

<!-- Menu Connected First header-->
<div class="navbar-fixed" ng-if="user && !user.account.firstConnexion && !notpaid">
    <nav class="top-nav colorSecondary visible-nav" role="navigation">
        <div class="container">
            <div class="nav-wrapper">
                <!-- Desktop and tablet-->
                <ul class="hide-on-small-only">
                    <li class="left"><a href="#/private/"><i class="material-icons left">home</i>
                        <span class="hide-on-med-and-down" translate="headerMenu.dashboard"></span></a>
                    </li>

                    <li class="left"><a href="#/private/players/{{meta.sandbox.effectiveDefault}}"><i
                            class="material-icons left">person</i>
                        <span class="hide-on-med-and-down" translate="headerMenu.players"></span></a>
                    </li>

                    <li class="left"><a href="#/private/teams/{{meta.sandbox.effectiveDefault}}"><i class="material-icons left">group</i>
                        <span class="hide-on-med-and-down" translate="headerMenu.teams"></span></a>
                    </li>

                    <li class="left"><a href="#/private/agenda/{{meta.sandbox.effectiveDefault}}"><i class="material-icons left">event_note</i>
                        <span class="hide-on-med-and-down" translate="headerMenu.calendar"></span></a>
                    </li>

                    <li class="right"><a ng-click="logoff()" href="javascript:void(0);"><i class="material-icons">exit_to_app</i></a>
                    </li>

                    <li class="right">
                        <a href="#/private/profile" class="white-text"><i class="material-icons left">portrait</i></a>
                    </li>
                    <li class="right">
                        <a class='dropdown-button' data-beloworigin="true" dropdown data-alignment="right"
                           href='javascript:void(0);' data-constrainWidth="false" data-activates='notificationDropdown'
                           data-hover="false">
                            <i class="material-icons right"
                               ng-class="{'red-text text-lighten-1 activeNotif':notifications.length}">{{notifications.length?'drafts':'email'}}</i>
                            <span ng-if="notifications.length" class="new badge white-text red lighten-1"
                                  ng-bind="notifications.length"></span>
                        </a>
                    </li>
                </ul>

                <!-- Mobile navigation hamburger -->
                <a href="#" data-activates="nav-mobile" class="button-collapse white-text"><i
                        class="mdi-navigation-menu left"></i></a>

                <!-- Mobile navigation -->
                <ul id="nav-mobile" class="side-nav blue-grey darken-2">
                    <li>
                        <a href="#/private/" class="white-text light">
                            <i class="mdi-action-home left"></i> {{'headerMenu.dashboard' | translate }}
                        </a>
                    </li>
                    <li class="divider"></li>

                    <li>
                        <a href="#/private/players/{{meta.sandbox.effectiveDefault}}" class="white-text light">
                            <i class="mdi-social-person left"></i> {{'headerMenu.players' | translate }}
                        </a>
                    </li>

                    <li>
                        <a href="#/private/teams/{{meta.sandbox.effectiveDefault}}" class="white-text light">
                            <i class="mdi-social-group left"></i> {{'headerMenu.teams' | translate }}
                        </a>
                    </li>

                    <li>
                        <a href="#/private/agenda/{{meta.sandbox.effectiveDefault}}" class="white-text light">
                            <i class="mdi-action-view-agenda left"></i> {{'headerMenu.calendar' | translate }}
                        </a>
                    </li>

                    <li class="divider"></li>

                    <li>
                        <a href="#/private/profile" class="white-text"><i
                                class="mdi-social-person-outline left"></i></a>
                    </li>

                    <li>
                        <a ng-click="logoff()" href="javascript:void(0);" class="white-text">
                            <i class="mdi-action-exit-to-app left"></i> {{'navbar.disconnect' | translate}}
                        </a>
                    </li>
                </ul>

            </div>
        </div>
    </nav>
    <angular-feedback options="feedbackOptions" meta="meta"></angular-feedback>
</div>
<div class="navbar-fixed light-blue white-text trial" ng-if="intrial && !hideTrial">
    <div class="row valign-wrapper">
        <div class="col s4" style="font-size: 24px;" translate="headerMenu.trial.title"></div>
        <div class="col s7" style="font-size: 20px;" translate="headerMenu.trial.content" translate-values="trialCountVal"></div>
        <div class="col s1"><a href="javascript:void(0);" ng-click="closeTrial()" class="right"><i class="material-icons">close</i></a></div>
    </div>
</div>

<!-- Finalize signup -->
    <nav class="top-nav top-nav-trans" role="navigation" ng-if="user && user.account.firstConnexion">
        <div class="container">
            <div class="nav-wrapper">
                <a href="/#/" class="hide-on-med-and-down brand-logo">
                    <img src="assets/images/logo-mini.png" height="30px"/>
                </a>
                <ul class="right hide-on-med-and-down">
                    <li><a href="https://twitter.com/Qaobee"
                           target="_blank"
                           class="white-text"><i
                            class="fa fa-twitter-square fa-2x"></i></a></li>
                </ul>
                <a class="brand-logo white-text center">
                    <span class="hide-on-med-and-down fa fa-sign-in"></span>
                    <span translate="headerMenu.signup"></span>
                </a>
            </div>
        </div>
    </nav>


<!-- Modal login -->
<div id="modalLogin" class="modal colorBckgModal colorMain-text">
    <div class="modal-header center-align">
        <h5>
            <span class="fa fa-sign-in"></span>
            <span translate="modal.login.label.title"></span>
        </h5>
    </div>
    <form name="loginForm" ng-submit="login()">
        <div class="modal-content white">
            <div class="row">
                <div class="input-field col s12">
                    <input id="modal-login" type="text" class="validate" ng-model="signin.login" required>
                    <label for="modal-login">
                        {{'modal.login.label.login' | translate }}
                        <span class="colorAccent-text">*</span>
                    </label>
                </div>
                <div class="input-field col s12">
                    <input id="modal-password" type="password" class="validate" ng-model="signin.passwd" required>
                    <label for="modal-password">
                        {{'modal.login.label.password' | translate }}
                        <span class="colorAccent-text">*</span>
                    </label>
                </div>
            </div>
            <div class="row">
                <div><a href="" class="colorAccent-text" ng-click="openForgotPwd()">{{'modal.login.label.forgotpasswd' | translate }}</a></div>
            </div>
        </div>

        <div class="row center">
            <div class="col s12">&nbsp;</div>
            <div class="col s12">
                <a href="#/" class="modal-action modal-close waves-effect waves-red btn btn-s colorAccent"
                   translate="commons.buttons.cancel"></a>
                <button type="submit"
                        translate="commons.buttons.validate" ng-disabled="loginForm.$invalid" tabindex="8"
                        ng-class="{'btn btn-s waves-effect waves-white disabled': loginForm.$invalid, 
                                  'btn btn-s waves-effect waves-white colorSecondary': !loginForm.$invalid}">
                </button>
                
            </div>
        </div>
    </form>
</div>

<!-- Modal forgot password -->
<div id="modalForgotPwd" class="modal colorBckgModal colorMain-text">
    <div class="modal-header center-align">
        <h5>
            <span class="fa fa-sign-in"></span>
            <span translate="modal.login.label.forgotpasswd"></span>
        </h5>
    </div>
    <form name="renewPwdForm" ng-submit="renewPwd()">
        <div class="modal-content white">
            <div class="row center">
                <div class="col s12">
                    <h6><span translate="modal.login.label.forgotpasswdmess"></span></h6>
                </div>
            </div>
            <div class="row">
                <div class="col m3 hide-on-small">&nbsp;</div>
                <div class="input-field col s12 m6">
                    <input id="modal-login" type="text" class="validate" ng-model="infos.login" required>
                    <label for="modal-login">
                        {{'modal.login.label.login' | translate }}
                        <span class="colorAccent-text">*</span>
                    </label>
                </div>
                <div class="col m3 hide-on-small">&nbsp;</div>
            </div>
        </div>

        <div class="row center">
            <div class="col s12">&nbsp;</div>
            <div class="col s12">
                <a href="#/" class="modal-action modal-close waves-effect waves-red btn btn-s colorAccent"
                   translate="commons.buttons.cancel"></a>
                <button type="submit"  style="max-width:50%"
                        translate="commons.buttons.validate" ng-disabled="renewPwdForm.$invalid" tabindex="8"
                        ng-class="{'btn btn-s waves-effect waves-white disabled': renewPwdForm.$invalid, 
                                  'btn btn-s waves-effect waves-white colorSecondary': !renewPwdForm.$invalid}">
                </button>
                
            </div>
        </div>
    </form>
</div>

<!-- Modal RenewPwd OK ! -->
<div id="modalForgotPwdOK" class="modal colorBckgModal colorMain-text">
    <div class="modal-header center-align">
        <h5>
            <span class="fa fa-sign-in"></span>
            <span translate="modal.login.label.forgotpasswd"></span>
        </h5>
    </div>
    <div class="modal-content white">
        <div class="row">
            <div class="col s12">
                {{'modalForgotPwdOk.line1' | translate}}<br>
                {{'modalForgotPwdOk.line2' | translate}}<br>
                {{'modalForgotPwdOk.line3' | translate}}<br>
            </div>
        </div>
    </div>
    <div class="row center">
        <div class="col s12">&nbsp;</div>
        <div class="col s12">
            <a href="#/" class="modal-action modal-close waves-effect waves-red btn colorSecondary"
               translate="commons.buttons.close"></a>
        </div>
    </div>
</div>

<div id='notificationDropdown' class='notification dropdown-content blue-grey lighten-4'>
    <div class="row" style="padding-left: 10px">
        <div class="col s12"><a href="#/notifications"
                                class="waves-effect waves-teal btn-flat blue-grey-text text-darken-2">
            {{'notifications.more' | translate}} <i class="material-icons right">forward</i></a>
        </div>
    </div>
    <div ng-repeat="n in notifications" class="hoverable blue-grey-text text-darken-2 white">
        <div class="row">
            <div class="col s2">
                <img ng-src="{{getAvatar(n.senderId.avatar)}}" alt="" class="circle" width="30px">
            </div>
            <div class="col s10">
                <a href="#/notifications/{{n._id}}" class="blue-text text-lighten-2" ng-bind-html="n.title"></a>
                <a href="javascript:void(0);" ng-click="markAsRead(n._id)"
                   class="waves-effect waves-teal btn-flat right">
                    <i class="tiny material-icons" ng-if="n.read"
                       title="{{'headerMenu.notifications.mark-as-unread' | translate}}">visibility_off</i><i
                        class="tiny material-icons" ng-if="!n.read"
                        title="{{'headerMenu.notifications.mark-as-read' | translate}}">visibility</i></a>
                <a href="javascript:void(0);" ng-click="deleteNotification(n._id)"
                   class="waves-effect waves-teal btn-flat right"><i
                        class="tiny material-icons" title="{{'headerMenu.notifications.delete' | translate}}">delete</i></a>
                <br/><span class="truncate" ng-bind-html="n.content"></span>
                <small> {{n.senderId.firstname}} {{n.senderId.name}} |
                    {{n.timestamp | date : 'short'}}
                </small>
            </div>
        </div>

    </div>
</div>