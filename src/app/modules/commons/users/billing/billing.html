<div class="container colorMain-text" ng-cloack>

    <!-- space between header menu and body-->
    <div class="row hide-on-med-and-down"></div>

    <!-- Entete -->
    <div class="row colorAccent-text colorBckgModal center valign-wrapper hide-on-med-and-down">
        <div class="col m1">
            <i class="material-icons md-48">verified_user</i>
        </div>
        <div class="col m9 colorMain-text left-align">
            <h5 translate="billingPage.title"></h5>
        </div>

        <div class="col m2">
            <button class="btn colorAccent white-text right" ng-click="doTheBack()"
                    translate="commons.buttons.back"></button>
        </div>
    </div>


    <!-- Entete -->
    <div class="row colorAccent-text colorBckgModal center hide-on-large-only">
        <div class="col s12">&nbsp;</div>

        <div class="col s12 colorMain-text">
            <h5 translate="billingPage.title"></h5>
        </div>

        <div class="col s12">&nbsp;</div>
        <div class="col s12">
            <button class="btn colorAccent white-text" ng-click="doTheBack()" translate="commons.buttons.back"></button>
        </div>
        <div class="col s12">&nbsp;</div>
    </div>

    <!-- Large view-->
    <div class="row hide-on-med-and-down">
        <div class="col s12">
            <table>
                <thead>
                <tr>
                    <th class="center-align" translate="billingPage.label.activity"></th>
                    <th class="center-align" translate="billingPage.label.product"></th>
                    <th class="center-align" translate="billingPage.label.price"></th>
                    <th class="center-align" translate="billingPage.label.billingnumber"></th>
                    <th class="center-align" translate="billingPage.label.billingdate"></th>
                    <th class="center-align" translate="billingPage.label.cardNumber"></th>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="plan in user.account.listPlan track by $index" class="colorBckgModal">
                    <td class="center-align">
                        <h4>{{plan.activity.label | translate}}</h4>
                    </td>
                    <td class="center-align colorAccent-text">
                        <h5>{{plan.levelPlan}}</h5>
                    </td>

                    <td ng-if="plan.status === 'open' || plan.status === 'notpaid'" colspan="4">
                        <a href="#/private/billing/pay/{{$index}}" class="btn waves-effect waves-white colorSecondary"
                           translate="billingPage.label.pay">
                        </a>
                    </td>
                    <td ng-if="plan.status !== 'open' && plan.status !== 'notpaid'">
                        <table class="responsive-table">
                            <thead>
                            <tr>
                                <th></th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr ng-repeat="s in plan.shippingList | orderBy : '-paidDate'">
                                <td><span ng-bind="s.amountPaid"></span> â‚¬</td>
                                <td ng-bind="s.paymentId"></td>
                                <td>
                                    <span><i class="material-icons left" ng-if="plan.status==='pending'">autorenew</i> {{s.paidDate | date}}</span>
                                </td>
                                <td ng-bind="'xxxx xxxx xxxx ' + s.cardInfo.last4"></td>
                                <td>
                                    <button ng-click="getBill($parent.$index, s.id, s.paymentId)"
                                            class="waves-effect waves-teal btn-flat"><i class="material-icons">cloud_download</i>
                                    </button>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>

    <!-- medium and small view-->
    <div class="row hide-on-large-only">
        <div class="col s12">
            <table>

                <tbody>
                <tr ng-repeat="plan in user.account.listPlan track by $index" class="colorBckgModal">
                    <td class="white colorMain-text" translate="billingPage.label.activity"></td>
                    <td class="center-align">
                        <h4>{{plan.activity.label | translate}}</h4>
                    </td>
                </tr>
                <tr>
                    <td class="white colorMain-text" translate="billingPage.label.product"></td>
                    <td class="center-align colorAccent-text">
                        <h5>{{plan.levelPlan}}</h5>
                    </td>
                </tr>
                <tr>
                    <td ng-if="plan.status === 'open' || plan.status === 'notpaid'" colspan="4">
                        <a href="#/private/billing/pay/{{$index}}" class="btn waves-effect waves-white colorSecondary"
                           translate="billingPage.label.pay">
                        </a>
                    </td>
                    <td ng-if="plan.status !== 'open' && plan.status !== 'notpaid'">
                        &nbsp;
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>