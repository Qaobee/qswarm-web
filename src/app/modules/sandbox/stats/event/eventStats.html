<div class="container" ng-cloack>

    <!-- space between header menu and body-->
    <div class="row"></div>

    <!-- view desktop -->

    <!-- Resume-->
    <div class="row">
        <div class="col s12">

            <title-page-bar icon="event"
                            title="{{collecte.event.label}} : {{collecte.startDateLabel}}"></title-page-bar>

            <div class="row light-primary-color">
                <div class="col s12 center-align" ng-if="teamHome">
                    <h5>
                        <span ng-if="teamHome">
                            <a href="#/private/viewTeam/{{collecte.event.participants.teamHome._id}}/false"
                               class="accent-color btn">{{collecte.event.participants.teamHome.label}}
                            </a>
                        </span>
                        -
                        {{collecte.event.participants.teamVisitor.label}}
                    </h5>
                </div>

                <div class="col s12 center-align" ng-if="teamVisitor">

                    {{collecte.event.participants.teamHome.label}}
                    -
                    <span ng-if="teamVisitor">
                            <a href="#/private/viewTeam/{{collecte.event.participants.teamVisitor._id}}/false"
                               class="accent-color btn">{{collecte.event.participants.teamVisitor.label}}
                            </a>
                        </span>
                </div>
            </div>

            <!-- Stats goals/sanction/use start -->
            <div class="row">

                <div class="col s12 m12 l4">
                    <stats-goals bind-to-id="goalScored"
                                 label="goalScored"
                                 sandbox-id="meta.sandbox._id">
                    </stats-goals>
                </div>
                <div class="col s12 hide-on-large-only"><br/></div>
                <div class="col s12 m12 l4">
                    <stats-goals bind-to-id="goalConceded"
                                 label="goalConceded"
                                 sandbox-id="meta.sandbox._id">
                    </stats-goals>
                </div>
                <div class="col s12 hide-on-large-only"><br/></div>
                <div class="col s12 m12 l4">
                    <stats-sanction></stats-sanction>
                </div>
            </div>
            <!-- Stats goals/sanction/use end -->


            <!-- Stats shoot efficiency Start -->
            <div class="row">
                <div class="col s12 left-align grey-text text-ligthen-2">
                    <h5>
                        <small translate="stats.efficiency.efficiency"></small>
                    </h5>
                </div>

                <div class="col s12 m6 l3" style="margin-top:15px;">
                    <widget-efficiency-player meta="meta" user="user"></widget-efficiency-player>
                </div>

                <div class="col s12 m6 l3" style="margin-top:15px;">
                    <widget-efficiency-player meta="meta" user="user" values="['BACKLEFT9', 'CENTER9', 'BACKRIGHT9']"
                                              widget-title="'stats.efficiency.efficiency9m'"></widget-efficiency-player>
                </div>

                <div class="col s12 m6 l3" style="margin-top:15px;">
                    <widget-efficiency-player meta="meta" user="user"
                                              values="['BACKLEFT6', 'CENTER6', 'BACKRIGHT6', 'LWING', 'RWING']"
                                              widget-title="'stats.efficiency.efficiency6m'"></widget-efficiency-player>
                </div>

                <div class="col s12 m6 l3" style="margin-top:15px;">
                    <widget-efficiency-player meta="meta" user="user" values="['PENALTY']"
                                              widget-title="'stats.efficiency.efficiency7m'"></widget-efficiency-player>
                </div>
            </div>
            
            <div class="row">
                <div class="col s12 left-align grey-text text-ligthen-2">
                    <h5>
                        <small translate="stats.efficiency.efficiencyGoalkeeper"></small>
                        <h6 class ="primary-text-color" translate="stats.efficiency.efficiencyGoalkeeperDesc"></h6>
                    </h5>
                </div>
                <div class="col s12 m6 l3" style="margin-top:15px;">
                    <widget-efficiency-goalkeeper meta="meta" user="user"></widget-efficiency-goalkeeper>
                </div>

                <div class="col s12 m6 l3" style="margin-top:15px;">
                    <widget-efficiency-goalkeeper meta="meta" user="user" values="['BACKLEFT9', 'CENTER9', 'BACKRIGHT9']"
                                              widget-title="'stats.efficiency.efficiency9m'"></widget-efficiency-goalkeeper>
                </div>

                <div class="col s12 m6 l3" style="margin-top:15px;">
                    <widget-efficiency-goalkeeper meta="meta" user="user"
                                              values="['BACKLEFT6', 'CENTER6', 'BACKRIGHT6', 'LWING', 'RWING']"
                                              widget-title="'stats.efficiency.efficiency6m'"></widget-efficiency-goalkeeper>
                </div>

                <div class="col s12 m6 l3" style="margin-top:15px;">
                    <widget-efficiency-goalkeeper meta="meta" user="user" values="['PENALTY']"
                                              widget-title="'stats.efficiency.efficiency7m'"></widget-efficiency-goalkeeper>
                </div>
            </div>
            <!-- Stats shoot efficiency end -->

            <!-- Stats actions pos/neg Start -->
            <div class="row">
                <div class="col s12 left-align grey-text text-ligthen-2">
                    <h5>
                        <small translate="stats.actionTab.title"></small>
                    </h5>
                </div>
                <div class="col s12 m6">
                    <qaobee-radar-chart title="{{'stats.actionTab.attack' | translate}} {{'stats.actionTab.positive' | translate}}"
                                        meta="meta"
                                        indicators="['penaltyObtained', 'exclTmpObtained', 'shift', 'duelWon', 'passDec']"></qaobee-radar-chart>
                </div>
                <div class="col s12 m6">
                    <qaobee-radar-chart title="{{'stats.actionTab.attack' | translate}} {{'stats.actionTab.negative' | translate}}"
                                        meta="meta"
                                        indicators="['forceAtt', 'marcher', 'doubleDribble', 'looseball', 'foot', 'zone', 'stopGKAtt']"></qaobee-radar-chart>
                </div>
                <div class="col s12 m6">
                    <qaobee-radar-chart title="{{'stats.actionTab.defense' | translate}} {{'stats.actionTab.positive' | translate}}"
                                        meta="meta"
                                        indicators="['neutralization', 'forceDef', 'contre', 'interceptionOk']"></qaobee-radar-chart>
                </div>
                <div class="col s12 m6">
                    <qaobee-radar-chart title="{{'stats.actionTab.defense' | translate}} {{'stats.actionTab.negative' | translate}}"
                                        meta="meta"
                                        indicators="['penaltyConceded', 'interceptionKo', 'duelLoose', 'badPosition']"></qaobee-radar-chart>
                </div>
            </div>
            <!-- Stats actions pos/neg End -->

            <!-- Stats participants Start -->
            <div class="row" ng-if="players.length > 0">
                <div class="col s12 white-text colorMain"><h5><i class="fa fa-bar-chart"></i>
                    {{'stats.eventLabels.listPlayers' | translate }}</h5></div>
                <div class=" card col s12">
                    <!-- player -->
                    <table class="bordered responsive-table highlight">
                        <thead>
                        <tr class="light-green lighten-1 white-text">
                            <th data-field="player" translate="stats.eventLabels.player"></th>
                            <th data-field="positionType" translate="stats.eventLabels.position"></th>
                            <th class="center-align" data-field="efficiency"
                                translate="stats.eventLabels.efficiency"></th>
                            <th class="center-align" data-field="efficiency" translate="stats.eventLabels.shoot"></th>
                            <th class="center-align" data-field="yellowCard"
                                translate="stats.eventLabels.yellowCard"></th>
                            <th class="center-align" data-field="exclusion"
                                translate="stats.eventLabels.exclusion"></th>
                            <th class="center-align" data-field="redCard" translate="stats.eventLabels.redCard"></th>
                            <th class="center-align" data-field="attack" translate="stats.eventLabels.attack"></th>
                            <th class="center-align" data-field="defense" translate="stats.eventLabels.defense"></th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr ng-repeat="player in players | filter:{$:'!goalkeeper'}">
                            <td><a href="#/private/viewPlayer/{{player._id}}">{{player.name}} - {{player.firstname}}</a></td>
                            <td>{{player.positionType}}</td>
                            <td class="center-align" ng-if="player.stats.originShootAtt > 0">
                                {{(player.stats.goalScored/player.stats.originShootAtt)*100 | number : 0}} %
                            </td>
                            <td class="center-align" ng-if="player.stats.originShootAtt === 0"></td>
                            <td class="center-align" ng-if="player.stats.originShootAtt > 0">{{player.stats.goalScored}}
                                / {{player.stats.originShootAtt}}
                            </td>
                            <td class="center-align" ng-if="player.stats.originShootAtt === 0"></td>
                            <td ng-if="player.stats.yellowCard>0" class="center-align"><span
                                    class="badge amber accent-3">{{player.stats.yellowCard}}</span></td>
                            <td ng-if="!player.stats.yellowCard>0" class="center-align"></td>
                            <td ng-if="player.stats.exclTmp>0" class="center-align"><span class="badge red lighten-2">{{player.stats.exclTmp}}</span>
                            </td>
                            <td ng-if="!player.stats.exclTmp>0" class="center-align"></td>
                            <td ng-if="player.stats.redCard>0" class="center-align"><span class="badge red darken-2">{{player.stats.redCard}}</span>
                            </td>
                            <td ng-if="!player.stats.redCard>0" class="center-align"></td>
                            <td class="center-align" ng-if="player.stats.actAttNeg">{{player.stats.actAttPos}} /
                                {{player.stats.actAttNeg}}
                            </td>
                            <td class="center-align" ng-if="!player.stats.actAttNeg"></td>
                            <td class="center-align" ng-if="player.stats.actDefNeg">{{player.stats.actDefPos}} /
                                {{player.stats.actDefNeg}}
                            </td>
                            <td class="center-align" ng-if="!player.stats.actDefNeg"></td>
                        </tr>
                        </tbody>
                    </table>

                    <!-- goalkeeper -->
                    <table class="bordered responsive-table highlight">
                        <thead>
                        <tr class="red lighten-1 white-text">
                            <th data-field="player" translate="stats.eventLabels.goalkeeper"></th>
                            <th class="center-align" data-field="efficiency"
                                translate="stats.eventLabels.efficiencyGoal"></th>
                            <th class="center-align" data-field="efficiency" translate="stats.eventLabels.stop"></th>
                            <th class="center-align" data-field="yellowCard"
                                translate="stats.eventLabels.yellowCard"></th>
                            <th class="center-align" data-field="exclusion"
                                translate="stats.eventLabels.exclusion"></th>
                            <th class="center-align" data-field="redCard" translate="stats.eventLabels.redCard"></th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr ng-repeat="player in players | filter:{$:'goalkeeper'}">
                            <td>{{player.name}} - {{player.firstname}}</td>
                            <td class="center-align" ng-if="player.stats.originShootDef > 0">
                                {{((player.stats.originShootDef-player.stats.goalConceded)/player.stats.originShootDef)*100
                                | number : 0}} %
                            </td>
                            <td class="center-align" ng-if="player.stats.originShootDef === 0"></td>
                            <td class="center-align" ng-if="player.stats.originShootDef > 0">
                                {{(player.stats.originShootDef-player.stats.goalConceded)}}/{{player.stats.originShootDef}}
                            </td>
                            <td class="center-align" ng-if="player.stats.originShootDef === 0"></td>
                            <td ng-if="player.stats.yellowCard>0" class="center-align"><span
                                    class="badge amber accent-3">{{player.stats.yellowCard}}</span></td>
                            <td ng-if="!player.stats.yellowCard>0" class="center-align"></td>
                            <td ng-if="player.stats.exclTmp>0" class="center-align"><span class="badge red lighten-2">{{player.stats.exclTmp}}</span>
                            </td>
                            <td ng-if="!player.stats.exclTmp>0" class="center-align"></td>
                            <td ng-if="player.stats.redCard>0" class="center-align"><span class="badge red darken-2">{{player.stats.redCard}}</span>
                            </td>
                            <td ng-if="!player.stats.redCard>0" class="center-align"></td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <!-- Stats participants Start -->
        </div>
    </div>
</div>
