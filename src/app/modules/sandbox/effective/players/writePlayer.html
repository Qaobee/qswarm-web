<div class="container" ng-cloack>

    <!-- space between header menu and body-->
    <div class="row"></div>

    <!-- Entete -->
    <div class="row">
        <div class="col s12">
            <div class="row colorMain white-text center">
                <div class="col m3 s12 center">
                    <avatar person="player" width="'100px'"></avatar>
                    <span class="small" translate="effectiveLabels.effectiveAvatar"></span>
                </div>
                <div class="col m7 s12">
                    <br/>
                    <h4>{{player.firstname}} {{player.name}}</h4>
                </div>
                <div class="col m2 s12">
                    <br/>&nbsp;
                </div>
            </div>
        </div>
    </div>

    <!-- body-->
    <div class="row">
        <wizard on-finish="checkAndformatPerson()" template="app/components/directives/wizard/wizard.html">

            <!-- step etat civil -->
            <wz-step title="{{'playerLabels.playerCivilSection' | translate }}"
                     template="app/components/directives/wizard/step.html">
                <div class="col s12">
                    <form name="playerCivilSection" novalidate>
                        <!-- Empty row -->
                        <div class="row">&nbsp;</div>

                        <div class="row">
                            <div class="col s12 m5 input-field">
                                <label>{{'playerLabels.playerFirstname' | translate }} <span
                                        class="red-text text-lighten-1">*</span></label>
                                <input ng-model="player.firstname" name="playerFirstname" type="text" class="validate" required
                                       ng-pattern="'[a-zA-Z -]+'"
                                       ng-class="{ 'has-error' : playerCivilSection.playerFirstname.$invalid && !playerCivilSection.playerFirstname.$pristine }">
                                <span class="small red-text text-lighten-1"
                                      ng-show="playerCivilSection.playerFirstname.$error.required && !playerCivilSection.playerFirstname.$pristine"
                                      translate="playerErrors.Firstname"></span>
                                <span class="small red-text text-lighten-1"
                                      ng-show="playerCivilSection.playerFirstname.$error.pattern && !playerCivilSection.playerFirstname.$pristine"
                                      translate="playerErrors.wrong-char"></span>
                            </div>

                            <div class="col m1 hide-on-small-only">&nbsp;</div>

                            <div class="col s12 m6 input-field">
                                <label>{{'playerLabels.playerName' | translate }} <span class="red-text text-lighten-1">*</span></label>
                                <input ng-model="player.name" name="playerName" type="text" class="validate form-control" required
                                       ng-pattern="'[a-zA-Z -]+'"
                                       ng-class="{ 'has-error' : playerCivilSection.playerName.$invalid && !playerCivilSection.playerName.$pristine }">
                                <span class="small red-text text-lighten-1"
                                      ng-show="playerCivilSection.playerName.$error.required && !playerCivilSection.playerName.$pristine"
                                      translate="playerErrors.Name"></span>
                                <span class="small red-text text-lighten-1"
                                      ng-show="playerCivilSection.playerName.$error.pattern && !playerCivilSection.playerName.$pristine"
                                      translate="playerErrors.wrong-char"></span>
                            </div>
                        </div>

                        <div class="row" ng-if="showBirthdate">
                            <div class="col s12 m5 input-field">
                                <label>{{'playerLabels.playerBirthdate' | translate }} <span class="red-text text-lighten-1">*</span></label>
                                <input id="playerBirthdate" name="playerBirthdate" type="text"
                                       ng-model="player.birthdate" required
                                       input-date data-today="today" data-first-day="1" data-clear="clear" data-close="close"
                                       data-format="{{formatDateSubmit}}" data-months-full="{{ month }}"
                                       data-months-short="{{ monthShort }}" data-weekdays-full="{{ weekdaysFull }}"
                                       data-weekdays-short="{{ weekdaysShort }}" data-weekdays-letter="{{ weekdaysLetter }}"
                                       max="{{getToday()}}" data-container="" data-select-years="90"
                                       ng-class="{ 'has-error' : playerCivilSection.playerBirthdate.$invalid && !playerCivilSection.playerBirthdate.$pristine }"/>
                                <span class="small red-text text-lighten-1"
                                      ng-show="playerCivilSection.playerBirthdate.$invalid && !playerCivilSection.playerBirthdate.$pristine"
                                      translate="playerErrors.BirthDate"></span>
                            </div>

                            <div class="col m1 hide-on-small-only">&nbsp;</div>

                            <div class="col m6 input-field hide-on-small-only">
                                <i class="material-icons prefix colorMain-text">mail</i>
                                <label for="emailInput">{{'playerLabels.playerMail' | translate }}</label>
                                <input type="email" id="emailInput" name="email" class="validate" ng-model="player.contact.email"
                                       ng-pattern="/^[a-z]+[a-z0-9._]+@[a-z]+\.[a-z.]{2,5}$/"
                                       ng-class="{ 'invalid': playerCivilSection.email.$invalid }">
                                <span ng-class="{'has-error': playerCivilSection.email.$dirty}"
                                      class="small red-text text-lighten-1"
                                      ng-hide="playerCivilSection.email.$valid"
                                      translate="playerErrors.emailDirty"></span>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col s12 m5">
                                <div class="row">
                                    <div class="input-field col s3">
                                        <label>{{'playerLabels.playerGender' | translate }} <span
                                                class="red-text text-lighten-1">*</span></label>
                                    </div>
                                    <div class="input-field col s9 center-align">
                                        <input name="gender" class="with-gap" type="radio" id="playerGenderF"
                                               value="{{'playerLabels.playerGenderF' | translate }}"
                                               ng-model="player.gender" required/>
                                        <label for="playerGenderF">{{'playerLabels.playerGenderF' | translate }}</label>

                                        <input name="gender" class="with-gap" type="radio" id="playerGenderM"
                                               value="{{'playerLabels.playerGenderM' | translate }}"
                                               ng-model="player.gender" required/>
                                        <label for="playerGenderM">{{'playerLabels.playerGenderM' | translate }}</label>
                                    </div>
                                    <span class="small red-text text-lighten-1"
                                          ng-show="playerCivilSection.gender.$invalid && !playerCivilSection.gender.$pristine"
                                          translate="playerErrors.Gender"></span>
                                </div>
                            </div>

                            <div class="col m1 hide-on-small-only">&nbsp;</div>

                            <div class="col m1 input-field hide-on-small-only">
                                <i class="material-icons prefix colorMain-text">phone</i>
                                <label for="phoneHomeInput">{{'playerLabels.playerTelHome' | translate }}</label>
                            </div>
                            <div class="col m5 input-field hide-on-small-only">
                                <input type="tel" id="phoneHomeInput" ui-mask="{{'commons.format.phone.pattern' | translate }}"
                                       class="validate" min="0" ng-model="player.contact.home">
                            </div>
                        </div>

                        <div class="row">
                            <div class="col s12 m5 input-field">
                                <label for="playerNationality">{{'playerLabels.playerNationality' |
                                    translate }}</label>
                                <input type="text" id="playerNationality" class="form-control" ng-autocomplete
                                       ng-model="player.nationality" details="detailsCountry" options="optionsCountry"
                                       placeholder=""/>
                            </div>

                            <div class="col m1 hide-on-small-only">&nbsp;</div>

                            <div class="col s1 input-field hide-on-small-only">
                                <i class="material-icons prefix colorMain-text">smartphone</i>
                                <label for="playerTelMobile">{{'playerLabels.playerTelMobile' | translate }}</label>
                            </div>
                            
                            <div class="col s5 input-field hide-on-small-only">
                                <input id="playerTelMobile" type="tel"
                                       ui-mask="{{'commons.format.phone.pattern' | translate }}"
                                       class="validate" min="0" ng-model="player.contact.cellphone">
                            </div>
                            
                        </div>

                        <div class="row">
                            <div class="col s12 m5 input-field">
                                <label for="playerBirthCity">{{'playerLabels.playerBirthCity' | translate}}</label>
                                <input type="text" id="playerBirthCity" class="form-control" ng-autocomplete
                                       ng-model="player.birthCity" details="detailsCity" options="optionsCity"
                                       placeholder=""/>
                            </div>

                            <div class="col m1 hide-on-small-only">&nbsp;</div>

                            <div class="col m6 input-field hide-on-small-only">
                                <i class="material-icons prefix colorMain-text">home</i>
                                <label for="playerAddress">{{'playerLabels.playerAddress' | translate }}</label>
                                <input type="text" id="Autocomplete" class="form-control" ng-autocomplete
                                       ng-model="player.address.formatedAddress" details="detailsAdr"
                                       options="optionsAdr" placeholder=""/>
                            </div>
                        </div>

                        <div class="row hide-on-med-and-up">
                            <div class="col s12">
                                <div class="input-field col s4">
                                    <i class="material-icons prefix">mail</i>
                                    <label for="playerMail">{{'playerLabels.playerMail' | translate }}</label>
                                </div>
                                <div class="input-field col s8">
                                    <input type="email" name="playerEmail" class="validate"
                                           ng-model="player.contact.email"
                                           ng-pattern="/^[a-z]+[a-z0-9._]+@[a-z]+\.[a-z.]{2,5}$/"
                                           ng-class="{ 'invalid': playerCivilSection.playerEmail.$invalid }">
                                    <span ng-class="{'has-error': playerCivilSection.playerEmail.$dirty}"
                                          class="small red-text text-lighten-1"
                                          ng-hide="playerCivilSection.playerEmail.$valid"
                                          translate="playerLabels.emailDirty"></span>
                                </div>
                            </div>
                            <div class="col s12">
                                <div class="input-field col s4">
                                    <i class="material-icons prefix">phone</i>
                                    <label for="playerTelHome">{{'playerLabels.playerTelHome' | translate }}</label>
                                </div>
                                <div class="input-field col s8">
                                    <input id="playerTelMobile" type="tel"
                                           ui-mask="{{'commons.format.phone.pattern' | translate }}"
                                           class="validate" min="0" ng-model="player.contact.home">
                                </div>
                            </div>
                            <div class="col s12">
                                <div class="input-field col s4">
                                    <i class="material-icons prefix">smartphone</i>
                                    <label for="playerTelMobile">{{'playerLabels.playerTelMobile' | translate }}</label>
                                </div>
                                <div class="input-field col s8">
                                    <input id="playerTelMobile" type="tel"
                                           ui-mask="{{'commons.format.phone.pattern' | translate }}"
                                           class="validate" min="0" ng-model="player.contact.cellphone">
                                </div>
                            </div>
                            <div class="col s12">
                                <div class="input-field col s4">
                                    <i class="material-icons prefix">home</i>
                                    <label for="playerAddress">{{'playerLabels.playerAddress' | translate }}</label>
                                </div>
                                <div class="input-field col s8">
                                    <input type="text" id="Autocomplete" class="form-control" ng-autocomplete
                                           ng-model="player.address.formatedAddress" details="detailsAdr"
                                           options="optionsAdr" placeholder=""/>
                                </div>
                            </div>

                        </div>

                        <!-- actions buttons -->
                        <div class="row">
                            <div class="col m3 hide-on-small-only">&nbsp;</div>
                            <div class="col m6 s12 center">
                                <button style="width:45%; height:40px; padding: 2px;" class="btn valign-wrapper colorAccent waves-effect waves-white white-text" ng-click="doTheBack()">{{'commons.buttons.cancel'| translate }}</button>&nbsp;
                                <button style="width:45%; height:40px; padding: 2px;" class="btn valign-wrapper white-text colorMain" wz-next type="submit" name="next"
                                        ng-class="{'btn btn-s waves-effect waves-white disabled': playerCivilSection.$invalid, 
                                              'btn btn-s waves-effect waves-white colorSecondary': !playerCivilSection.$invalid}"
                                        ng-disabled="playerCivilSection.$invalid">{{'commons.buttons.next' | translate}}
                                </button>
                            </div>
                            <div class="col m3 hide-on-small-only">&nbsp;</div>
                        </div>
                    </form>
                </div>
            </wz-step>

            <!-- step caracteristiques -->
            <wz-step title="{{'playerLabels.playerCaracterSection' | translate }}"
                     template="app/components/directives/wizard/step.html">
                <div class="row"></div>
                <form novalidate name="playerCaracterSection">
                    <!-- Empty row -->
                    <div class="row">&nbsp;</div>

                    <div class="row">
                        <div class="input-field col m1 s4"><label for="playerPositionType">{{'playerLabels.playerPositionType'
                            | translate }} <span class="red-text text-lighten-1">*</span></label></div>
                        <div class="input-field col m4 s8">
                            <select class="browser-default" ng-model="player.status.positionType" required
                                    ng-class="{ 'has-error' : playerCaracterSection.playerPositionType.$invalid && !playerCaracterSection.playerPositionType.$pristine }"
                                    name="playerPositionType" id="playerPositionType"
                                    ng-options="p.code as p.label for p in positionsType">
                            </select>
                                    <span class="small red-text text-lighten-1"
                                          ng-show="playerCaracterSection.playerPositionType.$invalid && !playerCaracterSection.playerPositionType.$pristine"
                                          translate="playerErrors.PositionType"></span>
                        </div>

                        <div class="col m1 hide-on-small-only">&nbsp;</div>

                        <div class="input-field col m6 s12">
                            <label class="active" for="playerSquadNumber">{{'playerLabels.playerSquadNumber' | translate
                                }}</label>
                            <input id="playerSquadNumber" type="number" class="validate" min="0"
                                   ng-model="player.status.squadnumber">
                        </div>
                    </div>

                    <div class="row">
                        <div class="input-field col m1 s12">
                            <label>{{'playerLabels.playerLaterality' | translate }}</label>
                        </div>

                        <div class="input-field col m5 s12 center-align">
                            <input name="laterality" class="with-gap" type="radio" id="playerLateralityA"
                                   value="{{'playerLabels.playerLateralityA' | translate }}"
                                   ng-model="player.status.laterality"/>
                            <label for="playerLateralityA">{{'playerLabels.playerLateralityA' | translate }}</label>

                            <input name="laterality" class="with-gap" type="radio" id="playerLateralityL"
                                   value="{{'playerLabels.playerLateralityL' | translate }}"
                                   ng-model="player.status.laterality"/>
                            <label for="playerLateralityL">{{'playerLabels.playerLateralityL' | translate }}</label>

                            <input name="laterality" class="with-gap" type="radio" id="playerLateralityR"
                                   value="{{'playerLabels.playerLateralityR' | translate }}"
                                   ng-model="player.status.laterality"/>
                            <label for="playerLateralityR">{{'playerLabels.playerLateralityR' | translate }}</label>
                        </div>

                        <div class="col m1 hide-on-small-only">&nbsp;</div>

                        <div class="input-field col m6 s12">
                            <label class="active" for="playerWeight">{{'playerLabels.playerWeight' | translate
                                }}</label>
                            <input id="playerWeight" type="number" class="validate" min="0"
                                   ng-model="player.status.weight" value="player.status.weight">
                        </div>
                    </div>

                    <div class="row">
                        <div class="col m6 hide-on-small-only">&nbsp;</div>

                        <div class="input-field col m6 s12">
                            <label class="active" for="playerHeight">{{'playerLabels.playerHeight' | translate
                                }}</label>
                            <input id="playerHeight" type="number" class="validate" min="0"
                                   ng-model="player.status.height">
                        </div>
                    </div>

                    <div class="row">&nbsp;</div>

                    <!-- actions buttons desktop-->
                    <div class="row">
                        <div class="col m3 hide-on-small-only">&nbsp;</div>
                        <div class="col m6 s12 center-align">
                            <button style="width:32%; height:40px; padding: 1px;" class="btn colorAccent waves-effect waves-white white-text" ng-click="doTheBack()">
                                {{'commons.buttons.cancel' | translate }}
                            </button>
                            
                            <button style="width:32%; height:40px; padding: 1px;" class="btn white-text waves-effect waves-white colorMain" wz-previous type="submit" name="previous">
                                {{'commons.buttons.previous' | translate }}
                            </button>
                            
                            <button style="width:32%; height:40px; padding: 1px;" class="btn white-text colorMain" wz-next type="submit" name="next"
                                    ng-class="{'btn btn-s waves-effect waves-white disabled': playerCaracterSection.$invalid, 
                                          'btn btn-s waves-effect waves-white colorSecondary': !playerCaracterSection.$invalid}"
                                    ng-disabled="playerCaracterSection.$invalid">{{'commons.buttons.validate' | translate}}
                            </button>
                            
                        </div>
                        <div class="col m3 hide-on-small-only">&nbsp;</div>
                    </div>

                </form>
            </wz-step>
        </wizard>
    </div>


    <!-- body end-->
</div>
